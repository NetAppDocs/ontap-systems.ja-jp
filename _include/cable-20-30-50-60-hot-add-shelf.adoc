= 
:allow-uri-read: 


（内蔵シェルフへの）ストレージの追加が必要な場合は、AFF A20、AFF A30、AFF C30、AFF A50、またはAFF C60のHAペアにNS224シェルフを2台までホットアドできます。

.作業を開始する前に
* を確認しておく必要があります link:requirements-hot-add-shelf.html["ホットアドの要件とベストプラクティス"]。
* の該当する手順を完了しておく必要があります link:prepare-hot-add-shelf.html["準備-シェルフのホットアド"]。
* の説明に従って、シェルフを設置し、電源をオンにし、シェルフIDを設定しておく必要があります link:prepare-hot-add-shelf.html["ホットアド用のシェルフの設置"]。


.このタスクについて
* この手順では、HAペアに内蔵ストレージのみが搭載され（外付けシェルフは搭載されていない）、次のいずれかの状況を想定しています。
+
** AFF A20のシェルフを1台までホットアドできます。
** AFF A30、AFF C30、AFF A50、またはAFF C60の各コントローラで最大2台のシェルフと2台のRoCE対応I/Oモジュールをホットアドします。


* この手順では、次のホットアドシナリオについて説明します。
+
** 各コントローラにRoCE対応I/Oモジュールが1つ搭載されたHAペアに最初のシェルフをホットアドします。
** 各コントローラにRoCE対応I/Oモジュールが2つ搭載されたHAペアに最初のシェルフをホットアドします。
** 各コントローラにRoCE対応I/Oモジュールが2つ搭載されたHAペアに2台目のシェルフをホットアドします。


* これらのシステムは、NSM100モジュールを搭載したNS224シェルフとNSM100Bモジュールを搭載したNS224シェルフの両方に対応しています。コントローラを正しいポートにケーブル接続するために、各図の「X」をモジュールに対応する正しいポート番号に置き換えます。
+
[cols="1,4"]
|===
| モジュールタイプ | ポートノラベル付け 


 a| 
NSM100
 a| 
"0"

例：e0a



 a| 
NSM100B
 a| 
"1"

例：e1a

|===


.手順
. 各コントローラモジュールのRoCE対応ポートのセット（RoCE対応I/Oモジュール×1）を1つ使用して1台のシェルフをホットアドする場合で、このシェルフがHAペア内で唯一のNS224シェルフである場合は、次の手順を実行します。
+
それ以外の場合は、次の手順に進みます。

+

NOTE: この手順では、RoCE対応I/Oモジュールがスロット3に取り付けられていることを前提としています。

+
.. シェルフNSM AのポートExaをコントローラAのスロット3のポートA（e3a）にケーブル接続します。
.. シェルフNSM AのポートEXBをコントローラBのスロット3のポートb（e3b）にケーブル接続します。
.. シェルフのNSM BポートExaをコントローラBのスロット3のポートA（e3a）にケーブル接続します。
.. シェルフのNSM BのポートEXBをコントローラAのスロット3のポートb（e3b）にケーブル接続します。
+
次の図は、各コントローラモジュールで RoCE 対応 I/O モジュールを 1 つ使用した、 1 台のホットアドシェルフのケーブル接続を示しています。

+
image::../media/drw_ns224_g_1shelf_1card_ieops-2002.svg[AFF A20のケーブル接続,452px,AFF C30]



. 各コントローラモジュールで、 RoCE 対応ポートのセット（ RoCE 対応 I/O モジュールを 2 つ）を使用してシェルフを 1 台または 2 台ホットアドする場合は、該当する手順を実行します。
+

NOTE: この手順では、RoCE対応I/Oモジュールがスロット3と1に取り付けられていることを前提としています。

+
[cols="1,3"]
|===
| シェルフ | ケーブル配線 


 a| 
シェルフ 1
 a| 
.. NSM AのポートExaをコントローラAのスロット3のポートA（e3a）にケーブル接続します。
.. NSM AのポートEXBをコントローラBのスロット1のポートb（e1b）にケーブル接続します。
.. NSM BポートExaをコントローラBのスロット3のポートA（e3a）にケーブル接続します。
.. NSM BのポートEXBをコントローラAのスロット1のポートb（e1b）にケーブル接続します。
.. 2 台目のシェルフをホットアドする場合は、「シェルフ 2 」の手順を実行します。そうでない場合は、手順 3 に進みます。


次の図は、各コントローラモジュールで2つのRoCE対応I/Oモジュールを使用した、1台のホットアドシェルフのケーブル接続を示しています。

image::../media/drw_ns224_g_1shelf_2card_ieops-2005.svg[AFF A20のケーブル接続,452px,AFF C30]



 a| 
シェルフ 2
 a| 
.. NSM AのポートExaをコントローラAのスロット1のポートA（e1a）にケーブル接続します。
.. NSM AのポートEXBをコントローラBのスロット3のポートb（e3b）にケーブル接続します。
.. NSM BポートExaをコントローラBのスロット1のポートA（e1a）にケーブル接続します。
.. NSM BのポートEXBをコントローラAのスロット3のポートb（e3b）にケーブル接続します。
.. 手順 3 に進みます。


次の図は、各コントローラモジュールで2つのRoCE対応I/Oモジュールを使用した2台のホットアドシェルフのケーブル接続を示しています。

image::../media/drw_ns224_g_2shelf_2card_ieops-2003.svg[AFF A20のケーブル接続,452px,AFF C30]

|===
. ホットアドしたシェルフがを使用して正しくケーブル接続されていることを確認します https://mysupport.netapp.com/site/tools/tool-eula/activeiq-configadvisor["Active IQ Config Advisor"^]。
+
ケーブル接続エラーが発生した場合は、表示される対処方法に従ってください。



.次の手順
この手順の準備作業として自動ドライブ割り当てを無効にした場合は、ドライブ所有権を手動で割り当ててから、必要に応じて自動ドライブ割り当てを再度有効にする必要があります。にアクセスします。

それ以外の場合は、シェルフのホットアド手順は終了です。
