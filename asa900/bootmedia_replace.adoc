---
permalink: asa900/bootmedia_replace.html 
sidebar: sidebar 
keywords: ASA A900, replace, boot, media, controller, directions. replace boot media, transfer image 
summary: コントローラモジュールを取り外して開き、コントローラのブートメディアの場所を確認して交換してから、交換用ブートメディアにイメージを転送する必要があります。 
---
= ブートメディアを交換し、手動ブートリカバリの準備をします - ASA A900
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
コントローラモジュールを取り外し、コントローラモジュールを取り外して開き、コントローラ内のブートメディアの場所を確認して交換してから、イメージを交換用ブートメディアに転送する必要があります。

ストレージシステムがONTAP 9.17.1以降を実行している場合は、link:bootmedia-replace-workflow-bmr.html["自動ブート回復手順"] 。システムで以前のバージョンのONTAPを実行している場合は、手動ブートリカバリ手順を使用する必要があります。



== 手順 1 ：コントローラモジュールを取り外す

コントローラ内部のコンポーネントにアクセスするには、まずコントローラモジュールをシステムから取り外し、続いてコントローラモジュールのカバーを外す必要があります。

.手順
. 接地対策がまだの場合は、自身で適切に実施します。
. 障害のあるコントローラモジュールからケーブルを外し、どのケーブルが何に接続されていたかを記録します。
. カムハンドルのテラコッタボタンを下にスライドさせてロックを解除します。
+
.アニメーション-コントローラを取り外します
video::256721fd-4c2e-40b3-841a-adf2000df5fa[panopto]
+
image::../media/drw_a900_remove_PCM.svg[コントローラを解放します。]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["番号1"]
 a| 
カムハンドルのリリースボタン



 a| 
image:../media/icon_round_2.png["番号2"]
 a| 
カムハンドル

|===
. カムハンドルを回転させて、コントローラモジュールをシャーシから完全に外し、コントローラモジュールをシャーシから引き出します。
+
このとき、空いている手でコントローラモジュールの底面を支えてください。

. コントローラモジュールのふた側を上にして、平らで安定した場所に置きます。カバーの青いボタンを押し、コントローラモジュールの背面にカバーをスライドさせてから、カバーを上に動かしてコントローラモジュールから外します。
+
image::../media/drw_a900_PCM_open.svg[カバーを持ち上げてコントローラモジュールから取り外します。]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["番号1"]
 a| 
コントローラモジュールのカバーの固定ボタン

|===




== 手順 2 ：ブートメディアを交換します

コントローラのブートメディアの場所を確認し、手順に従って交換する必要があります。

.手順
. コントローラモジュールの背面にある黒のエアダクトを開き、次の図またはコントローラモジュールの FRU マップを使用してブートメディアの場所を確認します。
+
.アニメーション-ブートメディアの交換
video::c5080658-765e-4d29-8456-adf2000e1495[panopto]
+
image::../media/drw_a900_remove_boot_dev.svg[ブートメディアの取り外し]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["番号1"]
 a| 
リリースタブを押します



 a| 
image:../media/icon_round_2.png["番号2"]
 a| 
ブートメディア

|===
. ブートメディアケースの青いボタンを押してブートメディアをケースからリリースし、ブートメディアソケットからゆっくりと引き出します。
+

NOTE: ソケットやブートメディアが損傷する可能性があるため、ブートメディアをねじったり、真上に引き出したりしないでください。

. 交換用ブートメディアの端をブートメディアソケットに合わせ、ソケットにゆっくりと押し込みます。
. ブートメディアが正しい向きでソケットに完全に装着されたことを確認します。
+
必要に応じて、ブートメディアを取り外してソケットへの装着をやり直します。

. ブートメディアを押し下げて、ブートメディアケースの固定ボタンをはめ込みます。
. コントローラモジュールのカバーにあるピンをマザーボードキャリアのスロットに合わせてカバーを再び取り付け、所定の位置に収まるまでスライドさせます。




== 手順 3 ：ブートイメージをブートメディアに転送します

イメージがインストールされた USB フラッシュドライブを使用して、交換用ブートメディアにシステムイメージをインストールできます。ただし、この手順の実行中に var ファイルシステムをリストアする必要があります。

.作業を開始する前に
* FAT32 にフォーマットされた、 4GB 以上の容量の USB フラッシュドライブが必要です。
* 障害のあるコントローラで実行されていたバージョンのONTAPイメージのコピーをダウンロードします。NetAppサポートサイトの[Downloads]セクションから該当するイメージをダウンロードできます。使用しているONTAPのバージョンがNVEをサポートしているかどうかを表示するには、コマンドを使用し `version -v`ます。コマンドの出力にと表示された場合、 `<10no- DARE>`使用しているONTAPのバージョンでNVEがサポートされていません。
+
** 使用しているONTAPのバージョンでNVEがサポートされている場合は、NetAppボリューム暗号化を使用したイメージをダウンロードします（ダウンロードボタンに表示されます）。
** NVEがサポートされない場合は、NetAppボリューム暗号化なしのイメージをダウンロードします（ダウンロードボタンに表示されます）。


* スタンドアロンシステムの場合はネットワーク接続は必要ありませんが、 var ファイルシステムをリストアしたときに追加のリブートを実行する必要があります。


.手順
. 適切なサービスイメージをダウンロードしてからUSBフラッシュドライブにコピーします（まだダウンロードしていない場合） https://mysupport.netapp.com/["ネットアップサポートサイト"]。
+
.. ページの[Downloads]リンクから、ラップトップのワークスペースにサービスイメージをダウンロードします。
.. サービスイメージを解凍します。
+

NOTE: Windows を使用して内容を展開する場合は、 winzip を使用してネットブートイメージを展開しないでください。7-Zip や WinRAR など、別の抽出ツールを使用します。

+
USBフラッシュドライブに、障害のあるコントローラで実行されている適切なONTAPイメージが格納されている必要があります。



. コントローラモジュールの端をシャーシの開口部に合わせ、コントローラモジュールをシステムに半分までそっと押し込みます。
. 必要に応じて、コントローラモジュールにケーブルを再接続します。
. USB フラッシュドライブをコントローラモジュールの USB スロットに挿入します。
+
USB フラッシュドライブは、 USB コンソールポートではなく、 USB デバイス用のラベルが付いたスロットに取り付けてください。

. コントローラモジュールをシステムに最後まで押し込み、カムハンドルの位置が USB フラッシュドライブに干渉していないことを確認します。カムハンドルを強く押し込んでコントローラモジュールを装着し、カムハンドルを閉じます。
+
コントローラは、シャーシに完全に取り付けられるとすぐにブートを開始します。

. ブートを開始するときに Ctrl+C キーを押し、ブートプロセスを中断して LOADER プロンプトで停止します。「 Starting autoboot 」というメッセージが表示されたら、 Ctrl+C を押して中止します
+
このメッセージが表示されない場合は、 Ctrl+C キーを押し、メンテナンスモードでブートするオプションを選択してから、コントローラを停止して LOADER プロンプトを表示します。

. コントローラがストレッチまたはファブリック接続の MetroCluster に含まれている場合は、 FC アダプタの構成をリストアする必要があります。
+
.. 保守モードでブート： boot_ontap maint
.. MetroClusterポートをイニシエーターとして設定します。 `ucadmin modify -m fc -t initiator adapter_name`
.. 停止して保守モードに戻ります : 「 halt 」


+
変更はシステムのブート時に実装されます。


