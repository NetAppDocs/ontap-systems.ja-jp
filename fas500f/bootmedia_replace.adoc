---
permalink: fas500f/bootmedia-replace.html 
sidebar: sidebar 
keywords: fas500f, replace the boot media 
summary: ブートメディアを交換する前に、コントローラモジュールのエアダクトを取り外して、障害が発生したブートメディアの場所を確認する必要があります。 
---
= コントローラモジュールを取り外し、ブートメディアを交換して、ブートイメージをブートメディア FAS500f に転送します
:icons: font
:imagesdir: ../media/


[role="lead"]
ブートメディアを交換するには、障害のあるコントローラモジュールを取り外し、交換用ブートメディアを取り付けて、ブートイメージを USB フラッシュドライブに転送する必要があります。



== 手順 1 ：コントローラモジュールを取り外す

コントローラモジュール内部のコンポーネントを交換する場合は、コントローラモジュールをシャーシから取り外す必要があります。

元の場所がわかるように、ケーブルにラベルを付けておいてください。

. 接地対策がまだの場合は、自身で適切に実施します。
. コントローラモジュールの電源装置のコードをソースから抜きます。
. 電源ケーブル固定クリップを外し、電源装置からケーブルを抜きます。
. コントローラモジュールの両側にあるラッチ機構に人差し指をかけ、親指でレバーを押し、コントローラをシャーシからゆっくりと引き出します。
+

NOTE: コントローラモジュールを取り外しにくい場合は、（腕を交差させて）内側から穴に人さし指を入れます。

+
image::../media/drw_a250_pcm_remove_install.png[DRW A250 PCM 取り外し取り付け]

+
|===


 a| 
image:../media/legend_icon_01.png[""]
 a| 
レバー



 a| 
image:../media/legend_icon_02.png[""]
 a| 
ラッチ機構

|===
. コントローラモジュールの両側を両手で持ってシャーシからゆっくりと引き出し、平らで安定した場所に置きます。
. コントローラモジュールの前面にある取り付けネジを反時計回りに回して、コントローラモジュールのカバーを開きます。
+
image::../media/drw_a250_open_controller_module_cover.png[DRW A250 オープンコントローラモジュールカバー]

+
|===


 a| 
image:../media/legend_icon_01.png[""]
 a| 
取り付けネジ



 a| 
image:../media/legend_icon_02.png[""]
 a| 
コントローラモジュールカバー

|===
. エアダクトカバーを持ち上げて外します。
+
image::../media/drw_a250_remove_airduct_cover.png[DRW A250 エアダクトカバーを取り外す]





== 手順 2 ：ブートメディアを交換します

ブートメディアを交換する前に、コントローラモジュールのエアダクトを取り外して、障害が発生したブートメディアの場所を確認する必要があります。

ブートメディアを固定しているネジを外すために、 No.1 マグネットプラスドライバが必要です。コントローラモジュール内のスペースに制約があるため、ネジを緩める必要がないように、マグネットが取り付けられている必要があります。

次のビデオまたは表に示す手順を使用して、ブートメディアを交換できます。

https://netapp.hosted.panopto.com/Panopto/Pages/embed.aspx?id=7c2cad51-dd95-4b07-a903-ac5b015c1a6d["ブートメディアの交換"]

. コントローラモジュールから障害のあるブートメディアの場所を確認し、交換します。
+
image::../media/drw_a250_replace_boot_media.png[DRW A250 は、ブートメディアの交換に使用します]

+
|===


 a| 
image:../media/legend_icon_01.png[""]
 a| 
コントローラモジュールのマザーボードにブートメディアを固定しているネジを外します。



 a| 
image:../media/legend_icon_02.png[""]
 a| 
ブートメディアをコントローラモジュールから持ち上げて取り出します。

|===
+
.. No.1 磁気ネジドライバを使用して障害のあるブートメディアからネジを外し、マグネットの上に安全に置きます。
.. 障害のあるブートメディアをソケットから直接そっと持ち上げて脇に置きます。
.. 交換用ブートメディアを静電気防止用の梱包バッグから取り出し、コントローラモジュールの所定の位置に合わせます。
.. No.1 磁気ネジドライバインサートを使用して、ブートメディアのネジを締めます。
+

NOTE: ブートメディアのネジを締めるときは力を加えないでください。ひびが入ることがあります。







== 手順 3 ：ブートイメージをブートメディアに転送します

取り付けた交換用ブートメディアにはブートイメージが含まれていないため、 USB フラッシュドライブを使用してブートイメージを転送する必要があります。

* 4GB 以上の容量の MBR / FAT32 にフォーマットされた USB フラッシュドライブが必要です
* 障害のあるコントローラが実行していたバージョンの ONTAP イメージのコピー。ネットアップサポートサイトの「 * Downloads * 」セクションから適切なイメージをダウンロードできます
+
** NVE が有効な場合は、ダウンロードボタンの指示に従って、 NetApp Volume Encryption を使用してイメージをダウンロードします。
** NVE が有効になっていない場合は、ダウンロードボタンの指示に従って、 NetApp Volume Encryption なしでイメージをダウンロードします。


* HA ペアのシステムの場合は、ネットワーク接続が必要です。
* スタンドアロンシステムの場合はネットワーク接続は必要ありませんが、 var ファイルシステムをリストアしたときに追加のリブートを実行する必要があります。


.手順
. ネットアップサポートサイトから USB フラッシュドライブに適切なサービスイメージをダウンロードしてコピーします。
+
.. ラップトップの作業スペースにサービスイメージをダウンロードします。
.. サービスイメージを解凍します。
+

NOTE: Windows を使用して内容を展開する場合は、 winzip を使用してネットブートイメージを展開しないでください。7-Zip や WinRAR など、別の抽出ツールを使用します。

+
解凍されたサービスイメージファイルには、次の 2 つのフォルダがあります。

+
*** 「 boot 」を指定します
*** 「 EFI 」


.. EFI フォルダを USB フラッシュドライブの最上位ディレクトリにコピーします
+
USB フラッシュドライブには、 EFI フォルダと、障害のあるコントローラが実行しているものと同じバージョンの Service Image （ BIOS ）が必要です。

.. USB フラッシュドライブをラップトップから取り外します。


. エアダクトをまだ取り付けていない場合は、取り付けます。
+
image::../media/drw_a250_install_airduct_cover.png[DRW A250 エアダクトカバーを取り付ける]

. コントローラモジュールのカバーを閉じ、取り付けネジを締めます。
+
image::../media/drw_a250_close_controller_module_cover.png[DRW A250 クローズコントローラモジュールカバー]

+
|===


 a| 
image:../media/legend_icon_01.png[""]
 a| 
コントローラモジュールカバー



 a| 
image:../media/legend_icon_02.png[""]
 a| 
取り付けネジ

|===
. コントローラモジュールの端をシャーシの開口部に合わせ、コントローラモジュールをシステムに半分までそっと押し込みます。
. 電源装置に電源ケーブルを接続し、電源ケーブルの固定クリップを再度取り付けます。
. USB フラッシュドライブをコントローラモジュールの USB スロットに挿入します。
+
USB フラッシュドライブは、 USB コンソールポートではなく、 USB デバイス用のラベルが付いたスロットに取り付けてください。

. コントローラモジュールをシャーシに最後まで押し込みます。
+
.. ラッチの内側から穴に人さし指を入れます。
.. ラッチ上部のオレンジ色のタブで親指を押し下げ、コントローラモジュールをゆっくりと停止位置に押し込みます。
.. ラッチの上部から親指を離し、ラッチが完全に固定されるまで押し続けます。
+
コントローラモジュールは、シャーシに完全に装着されるとすぐにブートを開始します。ブートプロセスを中断できるように準備しておきます。



+
コントローラモジュールを完全に挿入し、シャーシの端と同一平面になるようにします。

. 環境変数と bootargs は保持されますが 'printenv bootargname' コマンドを使用して ' 必要なすべてのブート環境変数と bootargs がシステムタイプと構成に適切に設定されていることを確認し 'setenv variable-name <value> コマンドを使用してエラーを修正する必要があります
+
.. ブート環境変数を確認します。
+
*** bootarg.init.boot_clustered`
*** 「 partner-sysid 」
*** bootarg.init.switchless_cluster.enable`


.. 外部キーマネージャが有効になっている場合は、「 kenv 」 ASUP 出力に表示された bootarg 値を確認します。
+
*** bootarg.storageencryption.support <value>
*** bootarg.keymanager. support <value>
*** 「 kmip.init.interface 」 <value> です
*** 「 kmip.init.ipaddr 」 <value> です
*** 「 kmip.init.netmask 」 <value> です
*** 「 kmip.init.gateway 」 <value> です


.. オンボードキーマネージャが有効になっている場合は、「 kenv 」 ASUP 出力に表示されている bootarg 値を確認します。
+
*** bootarg.storageencryption.support <value>
*** bootarg.keymanager. support <value>
*** 'bootarg.onboard keymanager <value>


.. 変更した環境変数を '*savenv*' コマンドを使用して保存します
.. *printenv_variable-name_*' コマンドを使用して ' 変更内容を確認します



